{"version":3,"sources":["components/Login.module.css","components/Weather.module.css","components/Nav.module.css","context/MyContext.js","components/Burger.js","components/Nav.js","components/About.js","components/Weather.js","components/Contact.js","components/Valves.js","components/Login.js","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","MyContext","createContext","Axios","axios","create","baseURL","MyContextProvider","state","isAuth","theUser","logoutUser","localStorage","removeItem","setState","loginUser","user","a","post","login","pass","password","data","isLoggedIn","loginToken","getItem","defaults","headers","common","get","success","contextValue","rootState","this","Provider","value","props","children","Component","Burger","menuToggle","setMenuToggle","className","classes","NavStyles","burger","toggle","onClick","line1","line2","line3","Nav","useState","navStyle","color","textDecoration","fontSize","useContext","logo","open","navLinks","style","to","About","Weather","weatherInfo","setWeatherInfo","fetchWeather","console","log","WeatherStyles","Temperatura","Wilgotnosc","Opady","Jasnosc","Contact","Valves","Login","initialState","userInfo","errorMsg","successMsg","onChangeValue","e","target","name","submitForm","event","preventDefault","token","setItem","message","sucessMsg","LoginStyles","homepage","id","onSubmit","noValidate","type","required","placeholder","onChange","Home","path","exact","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,SAAW,wBAAwB,UAAY,yBAAyB,aAAa,0BAA0B,aAAa,0BAA0B,cAAc,2BAA2B,eAAe,4BAA4B,QAAU,uBAAuB,gBAAgB,+B,mBCA7SD,EAAOC,QAAU,CAAC,iBAAiB,gCAAgC,oBAAoB,mCAAmC,eAAe,gC,kBCAzID,EAAOC,QAAU,CAAC,KAAO,kBAAkB,SAAW,sBAAsB,OAAS,oBAAoB,KAAO,kBAAkB,OAAS,oBAAoB,MAAQ,mBAAmB,MAAQ,mBAAmB,MAAQ,qB,4NCChNC,EAAYC,0BAEnBC,EAAQC,IAAMC,OAAO,CACzBC,QAAS,6DA+DIC,E,kDA3Db,aAAe,IAAD,8BACZ,gBAIFC,MAAQ,CACNC,QAAQ,EACRC,QAAS,MAPG,EAUdC,WAAa,WACXC,aAAaC,WAAW,cACxB,EAAKC,SAAL,2BACK,EAAKN,OADV,IAEEC,QAAQ,MAdE,EAkBdM,UAlBc,uCAkBF,WAAOC,GAAP,eAAAC,EAAA,sEACUd,EAAMe,KAAK,YAAa,CAC1CF,KAAMA,EAAKG,MACXC,KAAMJ,EAAKK,WAHH,cACJF,EADI,yBAKHA,EAAMG,MALH,2CAlBE,wDA0BdC,WA1Bc,sBA0BD,gCAAAN,EAAA,2DACLO,EAAaZ,aAAaa,QAAQ,eAD7B,uBAITtB,EAAMuB,SAASC,QAAQC,OAAvB,cAAiD,UAAYJ,EAJpD,SAMcrB,EAAM0B,IAAI,iBANxB,iBAMDP,EANC,EAMDA,MAECQ,SAAWR,EAAKN,MACvB,EAAKF,SAAL,2BACK,EAAKN,OADV,IAEEC,QAAQ,EACRC,QAASY,EAAKN,QAZT,2CAxBX,EAAKO,aAFO,E,0CA4Cd,WACE,IAAMQ,EAAe,CACnBC,UAAWC,KAAKzB,MAChBe,WAAYU,KAAKV,WACjBR,UAAWkB,KAAKlB,UAChBJ,WAAYsB,KAAKtB,YAEnB,OACE,cAACV,EAAUiC,SAAX,CAAoBC,MAAOJ,EAA3B,SACGE,KAAKG,MAAMC,e,GAtDYC,a,uDCcjBC,MAnBf,YAAgD,IAA9BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,cAC5B,OACE,sBACEC,UACEF,EACIG,IAAQC,IAAUC,OAAQD,IAAUE,QACpCF,IAAUC,OAEhBE,QAAS,WACPN,GAAeD,IAPnB,UAUE,qBAAKE,UAAWE,IAAUI,QAC1B,qBAAKN,UAAWE,IAAUK,QAC1B,qBAAKP,UAAWE,IAAUM,YC2EjBC,MAnFf,WACE,MAAoCC,oBAAS,GAA7C,mBAAOZ,EAAP,KAAmBC,EAAnB,KACMY,EAAW,CACfC,MAAO,UACPC,eAAgB,OAChBC,SAAU,QAGZ,EAAkCC,qBAAWxD,GAArC+B,EAAR,EAAQA,UAAWrB,EAAnB,EAAmBA,WAGnB,OAFmBqB,EAAXvB,OAiCN,gCACE,qBAAKiC,UAAWE,IAAUc,OAK1B,qBACEhB,UACEF,EACIG,IAAQC,IAAUe,KAAMf,IAAUgB,UAClChB,IAAUgB,SAJlB,UAOE,cAAC,IAAD,CAAMC,MAAOR,EAAUS,GAAG,UAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,sBAEF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,WAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,sBAEF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,SAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,yBAEF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,WAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,uBAEF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,IAA1B,SACE,oBACEf,QAAS,WACPpC,IACA8B,GAAeD,IAHnB,0BAUJ,cAAC,EAAD,CAAQA,WAAYA,EAAYC,cAAeA,OAjE/C,gCACE,qBAAKC,UAAWE,IAAUc,OAK1B,qBACEhB,UACEF,EACIG,IAAQC,IAAUe,KAAMf,IAAUgB,UAClChB,IAAUgB,SAJlB,UAOE,cAAC,IAAD,CAAMC,MAAOR,EAAUS,GAAG,SAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,yBAEF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,WAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,uBAGF,cAAC,IAAD,CAAMqB,MAAOR,EAAUS,GAAG,SAA1B,SACE,oBAAIf,QAAS,kBAAMN,GAAeD,IAAlC,0BAGJ,cAAC,EAAD,CAAQA,WAAYA,EAAYC,cAAeA,QCxCxCsB,MAJf,WACE,OAAO,wC,iBCqDMC,MAlDf,WACE,IAAQhC,EAAcyB,qBAAWxD,GAAzB+B,UACAvB,EAAoBuB,EAApBvB,OACR,GAD4BuB,EAAZtB,QACsB0C,mBACpC,qDADF,mBAAOa,EAAP,KAAoBC,EAApB,KAMMC,EAAY,uCAAG,gCAAAlD,EAAA,2DACbO,EAAaZ,aAAaa,QAAQ,eADrB,uBAIjBrB,IAAMsB,SAASC,QAAf,cAA0C,UAAYH,EAJrC,SAMMpB,IAAMyB,IAC3B,4EAPe,gBAMTP,EANS,EAMTA,KAIR4C,EAAe5C,GAVE,OAanB8C,QAAQC,IAAIJ,GAbO,2CAAH,qDAgBlB,OAAKxD,GAGL2D,QAAQC,IAAI5D,GAEV,sBAAKiC,UAAW4B,IAAc,qBAA9B,UACE,uBACA,yCAEA,wBACE5B,UAAW4B,IAAc,kBACzBvB,QAASoB,EAFX,iCAMA,qBAAIzB,UAAW4B,IAAc,gBAA7B,UACE,+CAAkBL,EAAYM,eAC9B,8CAAiBN,EAAYO,cAC7B,yCAAYP,EAAYQ,SACxB,2CAAcR,EAAYS,kBAlBvB,cAAC,IAAD,CAAUZ,GAAG,YC1BTa,MAJf,WACE,OAAO,0CCGMC,MAJf,WACE,OAAO,yC,yBCuGMC,MArGf,WACE,MAA6CpB,qBAAWxD,GAAhD+B,EAAR,EAAQA,UAAWjB,EAAnB,EAAmBA,UAAWQ,EAA9B,EAA8BA,WACtBd,EAAWuB,EAAXvB,OAEFqE,EAAe,CACnBC,SAAU,CACR5D,MAAO,GACPE,SAAU,IAEZ2D,SAAU,GACVC,WAAY,IAGd,EAA0B7B,mBAAS0B,GAAnC,mBAAOtE,EAAP,KAAcM,EAAd,KAEMoE,EAAgB,SAACC,GACrBrE,EAAS,2BACJN,GADG,IAENuE,SAAS,2BACJvE,EAAMuE,UADH,kBAELI,EAAEC,OAAOC,KAAOF,EAAEC,OAAOjD,YAK1BmD,EAAU,uCAAG,WAAOC,GAAP,eAAAtE,EAAA,6DACjBsE,EAAMC,iBADW,SAEEzE,EAAUP,EAAMuE,UAFlB,YAEXzD,EAFW,QAGRQ,UAAWR,EAAKmE,MAHR,wBAIf3E,EAAS,eACJgE,IAELlE,aAAa8E,QAAQ,aAAcpE,EAAKmE,OAPzB,SAQTlE,IARS,+BAUfT,EAAS,2BACJN,GADG,IAENyE,WAAY,GACZD,SAAU1D,EAAKqE,WAbF,4CAAH,sDAkBZV,EAAa,GACbD,EAAW,GAQf,OAPIxE,EAAMwE,WACRA,EAAW,8BAAMxE,EAAMwE,YAErBxE,EAAMyE,aACRA,EAAa,8BAAMzE,EAAMoF,aAGvBnF,EACK,cAAC,IAAD,CAAUqD,GAAI,aAGrB,qBAAKpB,UAAWmD,IAAYC,SAA5B,SACE,sBAAKC,GAAG,QAAQrD,UAAWmD,IAAY,cAAvC,UACE,uBACA,2CACA,uBACA,uBAAMG,SAAUV,EAAYW,YAAU,EAAtC,UACE,8BACE,uBACEvD,UAAWmD,IAAY,cACvBE,GAAG,WACHV,KAAK,QACLa,KAAK,OACLC,UAAQ,EACRC,YAAY,sBACZjE,MAAO3B,EAAMuE,SAAS5D,MACtBkF,SAAUnB,MAGd,uBACA,8BACE,uBACExC,UAAWmD,IAAY,cACvBE,GAAG,WACHV,KAAK,WACLa,KAAK,WACLC,UAAQ,EACRC,YAAY,2BACZjE,MAAO3B,EAAMuE,SAAS1D,SACtBgF,SAAUnB,MAGbF,EACAC,EACD,uBACA,8BACE,wBAAQvC,UAAWmD,IAAY,eAAgBK,KAAK,SAApD,yCC1CGI,MA5Cf,WACE,IACQ7F,EADcgD,qBAAWxD,GAAzB+B,UACAvB,OAER,OADA2D,QAAQC,IAAI5D,GACRA,EAEA,8BACE,cAAC,IAAD,UACE,sBAAKiC,UAAU,MAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6D,KAAK,IAAIC,OAAK,EAACC,UAAWzC,IACjC,cAAC,IAAD,CAAOuC,KAAK,UAAUE,UAAW7B,IACjC,cAAC,IAAD,CAAO2B,KAAK,WAAWE,UAAWzC,IAClC,cAAC,IAAD,CAAOuC,KAAK,SAASE,UAAW1C,IAChC,cAAC,IAAD,CAAOwC,KAAK,WAAWE,UAAW9B,gBAS5C,mCACE,cAAC,IAAD,UACE,sBAAKjC,UAAU,MAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6D,KAAK,IAAIC,OAAK,EAACC,UAAW5B,IACjC,cAAC,IAAD,CAAO0B,KAAK,SAASE,UAAW1C,IAChC,cAAC,IAAD,CAAOwC,KAAK,WAAWE,UAAW9B,IAClC,cAAC,IAAD,CAAO4B,KAAK,SAASE,UAAW5B,iBC9BjC6B,MARf,WACE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,OCGSC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.e509a750.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"homepage\":\"Login_homepage__1UY5l\",\"container\":\"Login_container__1PmnF\",\"form-login\":\"Login_form-login__3ULuK\",\"form-input\":\"Login_form-input__32RYi\",\"form-button\":\"Login_form-button__2I4iw\",\"form-control\":\"Login_form-control__ngMYl\",\"wrapper\":\"Login_wrapper__3KVs_\",\"submit-button\":\"Login_submit-button__35P4b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weather-button\":\"Weather_weather-button__3Ovu5\",\"weather-container\":\"Weather_weather-container__MS1pH\",\"weather-info\":\"Weather_weather-info__1chw9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Nav_logo__1YG7V\",\"navLinks\":\"Nav_navLinks__32f0V\",\"burger\":\"Nav_burger__2fE4z\",\"open\":\"Nav_open__1aekA\",\"toggle\":\"Nav_toggle__4Vgyk\",\"line1\":\"Nav_line1__3-PPz\",\"line2\":\"Nav_line2__3myeT\",\"line3\":\"Nav_line3__3x5bl\"};","import React, { createContext, Component } from 'react';\r\nimport axios from 'axios';\r\nexport const MyContext = createContext();\r\n\r\nconst Axios = axios.create({\r\n  baseURL: 'https://smartgarden.ddns.net/php-login-registration-api/',\r\n});\r\n\r\nclass MyContextProvider extends Component {\r\n  constructor() {\r\n    super();\r\n    this.isLoggedIn();\r\n  }\r\n\r\n  state = {\r\n    isAuth: false,\r\n    theUser: null,\r\n  };\r\n\r\n  logoutUser = () => {\r\n    localStorage.removeItem('loginToken');\r\n    this.setState({\r\n      ...this.state,\r\n      isAuth: false,\r\n    });\r\n  };\r\n\r\n  loginUser = async (user) => {\r\n    const login = await Axios.post('login.php', {\r\n      user: user.login,\r\n      pass: user.password,\r\n    });\r\n    return login.data;\r\n  };\r\n\r\n  isLoggedIn = async () => {\r\n    const loginToken = localStorage.getItem('loginToken');\r\n\r\n    if (loginToken) {\r\n      Axios.defaults.headers.common['Authorization'] = 'bearer ' + loginToken;\r\n\r\n      const { data } = await Axios.get('user-info.php');\r\n\r\n      if (data.success && data.user) {\r\n        this.setState({\r\n          ...this.state,\r\n          isAuth: true,\r\n          theUser: data.user,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const contextValue = {\r\n      rootState: this.state,\r\n      isLoggedIn: this.isLoggedIn,\r\n      loginUser: this.loginUser,\r\n      logoutUser: this.logoutUser,\r\n    };\r\n    return (\r\n      <MyContext.Provider value={contextValue}>\r\n        {this.props.children}\r\n      </MyContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyContextProvider;\r\n","import classes from 'classnames';\r\nimport NavStyles from './Nav.module.css';\r\n\r\nfunction Burger({ menuToggle, setMenuToggle }) {\r\n  return (\r\n    <div\r\n      className={\r\n        menuToggle\r\n          ? classes(NavStyles.burger, NavStyles.toggle)\r\n          : NavStyles.burger\r\n      }\r\n      onClick={() => {\r\n        setMenuToggle(!menuToggle);\r\n      }}\r\n    >\r\n      <div className={NavStyles.line1}></div>\r\n      <div className={NavStyles.line2}></div>\r\n      <div className={NavStyles.line3}></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Burger;\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport NavStyles from './Nav.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport classes from 'classnames';\r\nimport { MyContext } from './../context/MyContext';\r\nimport Burger from './Burger';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nfunction Nav() {\r\n  const [menuToggle, setMenuToggle] = useState(false);\r\n  const navStyle = {\r\n    color: '#ffffff',\r\n    textDecoration: 'none',\r\n    fontSize: '22px',\r\n  };\r\n\r\n  const { rootState, logoutUser } = useContext(MyContext);\r\n  const { isAuth } = rootState;\r\n\r\n  if (!isAuth) {\r\n    return (\r\n      <nav>\r\n        <div className={NavStyles.logo}>\r\n          {/* <Link style={navStyle} to=\"/\">\r\n        <h3>Logo</h3>\r\n      </Link> */}\r\n        </div>\r\n        <ul\r\n          className={\r\n            menuToggle\r\n              ? classes(NavStyles.open, NavStyles.navLinks)\r\n              : NavStyles.navLinks\r\n          }\r\n        >\r\n          <Link style={navStyle} to=\"/about\">\r\n            <li onClick={() => setMenuToggle(!menuToggle)}>O stronie</li>\r\n          </Link>\r\n          <Link style={navStyle} to=\"/contact\">\r\n            <li onClick={() => setMenuToggle(!menuToggle)}>Kontakt</li>\r\n          </Link>\r\n\r\n          <Link style={navStyle} to=\"/login\">\r\n            <li onClick={() => setMenuToggle(!menuToggle)}>Zaloguj</li>\r\n          </Link>\r\n        </ul>\r\n        <Burger menuToggle={menuToggle} setMenuToggle={setMenuToggle} />\r\n      </nav>\r\n    );\r\n  }\r\n  return (\r\n    <nav>\r\n      <div className={NavStyles.logo}>\r\n        {/* <Link style={navStyle} to=\"/\">\r\n          <h3>Logo</h3>\r\n        </Link> */}\r\n      </div>\r\n      <ul\r\n        className={\r\n          menuToggle\r\n            ? classes(NavStyles.open, NavStyles.navLinks)\r\n            : NavStyles.navLinks\r\n        }\r\n      >\r\n        <Link style={navStyle} to=\"/valves\">\r\n          <li onClick={() => setMenuToggle(!menuToggle)}>Zawory</li>\r\n        </Link>\r\n        <Link style={navStyle} to=\"/weather\">\r\n          <li onClick={() => setMenuToggle(!menuToggle)}>Pogoda</li>\r\n        </Link>\r\n        <Link style={navStyle} to=\"/about\">\r\n          <li onClick={() => setMenuToggle(!menuToggle)}>O stronie</li>\r\n        </Link>\r\n        <Link style={navStyle} to=\"/contact\">\r\n          <li onClick={() => setMenuToggle(!menuToggle)}>Kontakt</li>\r\n        </Link>\r\n        <Link style={navStyle} to=\"/\">\r\n          <li\r\n            onClick={() => {\r\n              logoutUser();\r\n              setMenuToggle(!menuToggle);\r\n            }}\r\n          >\r\n            Wyloguj\r\n          </li>\r\n        </Link>\r\n      </ul>\r\n      <Burger menuToggle={menuToggle} setMenuToggle={setMenuToggle} />\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\n\r\nfunction About() {\r\n  return <h1>About</h1>;\r\n}\r\n\r\nexport default About;\r\n","import axios from 'axios';\r\nimport React, { useState, useContext } from 'react';\r\nimport { MyContext } from './../context/MyContext';\r\nimport { Redirect } from 'react-router-dom';\r\nimport WeatherStyles from './Weather.module.css';\r\n\r\nfunction Weather() {\r\n  const { rootState } = useContext(MyContext);\r\n  const { isAuth, theUser } = rootState;\r\n  const [weatherInfo, setWeatherInfo] = useState(\r\n    'Temperatura: 0,Wilgotnosc: 0,Opady: 0,Jasnosc: 0'\r\n  );\r\n\r\n  // let weatherInfo = { Temperatura: 0, Wilgotnosc: 0, Opady: 0, Jasnosc: 0 };\r\n\r\n  const fetchWeather = async () => {\r\n    const loginToken = localStorage.getItem('loginToken');\r\n\r\n    if (loginToken) {\r\n      axios.defaults.headers['Authorization'] = 'bearer ' + loginToken;\r\n\r\n      const { data } = await axios.get(\r\n        'https://smartgarden.ddns.net/php-login-registration-api/weather-info.php'\r\n      );\r\n\r\n      setWeatherInfo(data);\r\n    }\r\n\r\n    console.log(weatherInfo);\r\n  };\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  console.log(isAuth);\r\n  return (\r\n    <div className={WeatherStyles['weather-container']}>\r\n      <br></br>\r\n      <h1>Weather</h1>\r\n\r\n      <button\r\n        className={WeatherStyles['weather-button']}\r\n        onClick={fetchWeather}\r\n      >\r\n        Pobierz pogodę\r\n      </button>\r\n      <ul className={WeatherStyles['weather-info']}>\r\n        <li>Temperatura: {weatherInfo.Temperatura}</li>\r\n        <li>Wilgotnosc: {weatherInfo.Wilgotnosc}</li>\r\n        <li>Opady: {weatherInfo.Opady}</li>\r\n        <li>Jasnosc: {weatherInfo.Jasnosc}</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Weather;\r\n","import React from 'react';\r\n\r\nfunction Contact() {\r\n  return <h1>Kontakt</h1>;\r\n}\r\n\r\nexport default Contact;\r\n","import React from 'react';\r\n\r\nfunction Valves() {\r\n  return <h1>Zawory</h1>;\r\n}\r\n\r\nexport default Valves;\r\n","import React, { useContext, useState } from 'react';\r\nimport { MyContext } from '../context/MyContext';\r\nimport LoginStyles from './Login.module.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const { rootState, loginUser, isLoggedIn } = useContext(MyContext);\r\n  const { isAuth } = rootState;\r\n\r\n  const initialState = {\r\n    userInfo: {\r\n      login: '',\r\n      password: '',\r\n    },\r\n    errorMsg: '',\r\n    successMsg: '',\r\n  };\r\n\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const onChangeValue = (e) => {\r\n    setState({\r\n      ...state,\r\n      userInfo: {\r\n        ...state.userInfo,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  const submitForm = async (event) => {\r\n    event.preventDefault();\r\n    const data = await loginUser(state.userInfo);\r\n    if (data.success && data.token) {\r\n      setState({\r\n        ...initialState,\r\n      });\r\n      localStorage.setItem('loginToken', data.token);\r\n      await isLoggedIn();\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        successMsg: '',\r\n        errorMsg: data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  let successMsg = '';\r\n  let errorMsg = '';\r\n  if (state.errorMsg) {\r\n    errorMsg = <div>{state.errorMsg}</div>;\r\n  }\r\n  if (state.successMsg) {\r\n    successMsg = <div>{state.sucessMsg}</div>;\r\n  }\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/weather'} />;\r\n  }\r\n  return (\r\n    <div className={LoginStyles.homepage}>\r\n      <div id=\"panel\" className={LoginStyles['form-login']}>\r\n        <br></br>\r\n        <h1>Logowanie</h1>\r\n        <br></br>\r\n        <form onSubmit={submitForm} noValidate>\r\n          <div>\r\n            <input\r\n              className={LoginStyles['form-input']}\r\n              id=\"username\"\r\n              name=\"login\"\r\n              type=\"text\"\r\n              required\r\n              placeholder=\"Wprowadź login\"\r\n              value={state.userInfo.login}\r\n              onChange={onChangeValue}\r\n            />\r\n          </div>\r\n          <br></br>\r\n          <div>\r\n            <input\r\n              className={LoginStyles['form-input']}\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              required\r\n              placeholder=\"Wprowadź hasło\"\r\n              value={state.userInfo.password}\r\n              onChange={onChangeValue}\r\n            />\r\n          </div>\r\n          {errorMsg}\r\n          {successMsg}\r\n          <br></br>\r\n          <div>\r\n            <button className={LoginStyles['form-button']} type=\"submit\">\r\n              Zaloguj się\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Nav from './Nav';\r\nimport About from './About';\r\nimport Weather from './Weather';\r\nimport Contact from './Contact';\r\nimport Valves from './Valves';\r\nimport { MyContext } from './../context/MyContext';\r\nimport Login from './Login';\r\n\r\nfunction Home() {\r\n  const { rootState } = useContext(MyContext);\r\n  const { isAuth } = rootState;\r\n  console.log(isAuth);\r\n  if (isAuth) {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Nav />\r\n            <div className=\"main\">\r\n              <Switch>\r\n                <Route path=\"/\" exact component={Weather} />\r\n                <Route path=\"/valves\" component={Valves} />\r\n                <Route path=\"/weather\" component={Weather} />\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/contact\" component={Contact} />\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Nav />\r\n            <div className=\"main\">\r\n              <Switch>\r\n                <Route path=\"/\" exact component={Login} />\r\n                <Route path=\"/about\" component={About} />\r\n                <Route path=\"/contact\" component={Contact} />\r\n                <Route path=\"/login\" component={Login} />\r\n              </Switch>\r\n            </div>\r\n          </div>\r\n        </Router>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\nimport './App.css';\n\nimport MyContextProvider from './context/MyContext';\nimport Home from './components/Home';\n\nfunction App() {\n  return (\n    <MyContextProvider>\n      <Home />\n    </MyContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}